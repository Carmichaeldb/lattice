<!DOCTYPE html>
<html lang="en">
<%- include('./partials/_head') %>
<%- include('nav') %>

<body>
  <div class="container mt-4">
    <div class="row">
      <div class="col-12 col-lg-10 offset-lg-1">
        <!-- Wrapper Card for All Content -->
        <div class="card mb-4">
          <div class="card-body">
            <!-- Post Content -->
            <h1 class="card-title"><%= post.title %></h1>
            <h6 class="card-subtitle mb-2 text-muted"><%= post.topic %></h6>
            <p class="card-text"><%= post.description %></p>

            <!-- Link to Original Post URL -->
            <a href="<%= post.url %>" class="btn btn-primary mb-4">LINK</a>

            <!-- Comments Section -->
            <h5 class="mt-4 mb-2">Comments</h5>
            <% if (comments && comments.length > 0) { %>
              <% comments.forEach(comment => { %>
                <div class="border rounded p-2 mb-2">
                  <p class="mb-0"><%= comment.comment_text %></p>
                  <!-- Additional comment details can go here -->
                </div>
              <% }) %>
            <% } else { %>
              <p>No comments yet.</p>
            <% } %>

            <!-- Comment Form Partial -->
            <%- include('partials/commentForm', { user: user, postId: post.id }) %>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

